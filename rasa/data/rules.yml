version: "3.1"

rules:
  - rule: Greet user
    steps:
      - intent: greet
      - action: utter_greet

  - rule: Say goodbye
    steps:
      - intent: goodbye
      - action: utter_goodbye

  - rule: Handle fire education flow
    steps:
      - intent: fire_education
      - action: action_handle_fire_education_chapter_choice

  - rule: Fire Incident
    steps:
      - intent: fire_incident
      - action: utter_fire_entry
      - action: utter_ask_fire_site

  - rule: Immediate threat yes
    steps:
      - intent: immediate_threat_yes
      - action: utter_immediate_threat_yes

  - rule: Ask for fire site after reporting fire
    steps:
      - or:
          - intent: site_house
          - intent: site_factory
          - intent: site_building
          - intent: site_warehouse
          - intent: site_forest_grassland
      - action: utter_ask_fire_site

  - rule: Ask for fire area after fire site reported
    steps:
      - or:
          - intent: area_kitchen
          - intent: area_garage
          - intent: area_living_area
          - intent: area_electrical
          - intent: area_gas_pipeline
          - intent: area_other
      - action: utter_ask_fire_area
