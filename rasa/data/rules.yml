version: "3.1"

rules:
  - rule: Greet user
    steps:
      - intent: greet
      - action: utter_greet

  - rule: Say goodbye
    steps:
      - intent: goodbye
      - action: utter_goodbye

  - rule: Handle fire education flow
    steps:
      - intent: fire_education
      - action: action_handle_fire_education_chapter_choice

  - rule: Fire Incident Help Flow
    steps:
      - intent: fire_incident
      - action: utter_fire_incident_help

  - rule: Ask Immediate Threat After Site Selection
    steps:
      - intent: inform_fire_site
      - slot_was_set:
          - incident_site
      - action: utter_ask_immediate_threat

  - rule: Immediate Threat Detected
    steps:
      - intent: inform_immediate_threat
      - slot_was_set:
          - immediate_threat
      - action: action_handle_immediate_threat_yes
