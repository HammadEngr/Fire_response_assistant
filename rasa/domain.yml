version: "3.1"

intents:
  - greet
  - goodbye

  # selectable options step 1
  - fire_education
  - fire_incident

  # selectable options step 2
  - site_house
  - site_factory
  - site_building
  - site_warehouse
  - site_forest_grassland

  # confirmation of immediate threat step 3
  - immediate_threat_yes

  - area_kitchen
  - area_garage
  - area_living_area
  - area_electrical
  - area_gas_pipeline
  - area_other

entities:
  - education_chapter
  - incident_site
  - incident_area
  - hazard
  - report

slots:
  education_chapter:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: education_chapter

responses:
  utter_greet:
    - text: "Hello! This is fire emergency assistance service.
        You can get help by reporting a fire or you can ask for fire safety education in general."

  utter_goodbye:
    - text: "Goodbye! Stay safe."

  utter_fire_education:
    - text: "Do you want basic fire education or something more ? Select any of the option"
      buttons:
        - title: "Fire Basics"
          payload: "/fire_basics"

        - title: "Mitigation Steps"
          payload: "/fire_mitigation"

        - title: "Risk Assesment"
          payload: "/risk_assesment"

  utter_fire_basics:
    - text: "Fire basics"

  utter_fire_mitigation:
    - text: "Fire mitigation"

  utter_fire_risk_assessment_steps:
    - text: "Fire risk assessment"

  utter_general_education:
    - text: "Fire general education"
      buttons:
        - title: "Fire Education"
          payload: "/fire_education"

  utter_immediate_threat_yes:
    - text: "If you are in immediate danger, please call emergency services right away!"

  utter_fire_entry:
    - text: "You are reporting a fire at your site. Please provide more details."

  utter_ask_fire_site:
    - text: "Where is the fire located?"
      buttons:
        - title: "House"
          payload: "/site_house"

        - title: "Factory"
          payload: "/site_factory"

        - title: "Warehouse"
          payload: "/site_warehouse"

        - title: "Building"
          payload: "/site_building"

        - title: "Forest or Grassland"
          payload: "/site_forest_grassland"

  utter_ask_fire_area:
    - text: "Which area is affected by the fire?"
      buttons:
        - title: "Kitchen"
          payload: "/area_kitchen"
        - title: "Garage"
          payload: "/area_garage"
        - title: "Living Area"
          payload: "/area_living_area"
        - title: "Electrical Room"
          payload: "/area_electrical"
        - title: "Near by Gas Pipeline"
          payload: "/area_gas_pipeline"
        - title: "Other"
          payload: "/area_other"

actions:
  - action_handle_fire_education_chapter_choice

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: false
