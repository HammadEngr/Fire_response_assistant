version: "3.1"

intents:
  - greet
  - goodbye

  # selectable options step 1
  - fire_education
  - fire_incident
  - inform_fire_site
  - inform_immediate_threat

entities:
  - education_chapter
  - incident_site
  - incident_area
  - immediate_threat
  - report

slots:
  education_chapter:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: education_chapter

  incident_site:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: incident_site

  immediate_threat:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: immediate_threat

responses:
  utter_greet:
    - text: "Hello! This is fire emergency assistance service.
        You can get help by reporting a fire or you can ask for fire safety education in general."

  utter_goodbye:
    - text: "Goodbye! Stay safe."

  utter_fire_education:
    - text: "Do you want basic fire education or something more ? Select any of the option"
      buttons:
        - title: "Fire Basics"
          payload: "/fire_basics"

        - title: "Mitigation Steps"
          payload: "/fire_mitigation"

        - title: "Risk Assesment"
          payload: "/risk_assesment"

  utter_fire_basics:
    - text: "Fire basics"

  utter_fire_mitigation:
    - text: "Fire mitigation"

  utter_fire_risk_assessment_steps:
    - text: "Fire risk assessment"

  utter_general_education:
    - text: "Fire general education"
      buttons:
        - title: "Fire Education"
          payload: "/fire_education"

  utter_fire_incident_help:
    - text: "You are asking for a fire help at your site. Provide more details about type of site either by selecting from below options or you can also type."
      buttons:
        - title: "House"
          payload: "/site_house"
        - title: "Factory"
          payload: "/site_factory"
        - title: "Warehouse"
          payload: "/site_warehouse"
        - title: "Building"
          payload: "/site_building"
        - title: "Forest or Grassland"
          payload: "/site_forest"

  utter_ask_immediate_threat:
    - text: "Are you in immediate danger ? Do you see any of these situations ?"
      buttons:
        - title: "Heavy flames/smoke"
          payload: "/immediate_threat_heavy_flames"
        - title: "Burning Embers"
          payload: "/immediate_threat_burning_embers"
        - title: "I am entrapped"
          payload: "/immediate_threat_entrapped"
        - title: "None"
          payload: "/immediate_threat_none"

  utter_handle_immediate_threat_house:
    - text: "House threat found"
  utter_handle_immediate_threat_factory:
    - text: "Factory threat found"
  utter_handle_immediate_threat_wh:
    - text: "Warehouse threat found"
  utter_handle_immediate_threat_building:
    - text: "Building threat found"
  utter_handle_immediate_threat_forest:
    - text: "Forest threat found"
  utter_handle_immediate_threat_general:
    - text: "General threat found"

  utter_handle_fire_responce_house:
    - text: "House fire responce"
  utter_handle_fire_responce_factory:
    - text: "Factory fire responce"
  utter_handle_fire_responce_wh:
    - text: "warehouse fire responce"
  utter_handle_fire_responce_building:
    - text: "Building fire responce"
  utter_handle_fire_responce_forest:
    - text: "Forest fire responce"
  utter_handle_fire_responce_general:
    - text: "General fire responce"

actions:
  - action_handle_fire_education_chapter_choice
  - action_handle_immediate_threat_yes

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
